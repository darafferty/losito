.. _faraday:

FARADAY operation
-----------------

The FARADAY operation uses absolute TEC values (e.g., generated by a previous step) together with a model for the
Earth magnetic field [#f1]_ to produce second-order ionospheric (rotation measure) corruptions, following the
prescription described in de Gasperin et al. (2018) [#f2]_.

.. note::

    If this operation is used in conjunction with other operations that produce corruptions, care should be taken to apply the corruptions in the correct order. Faraday rotation corruptions should be applied before polarization misalignment corruptions and after any other corruptions. The order in which the corruptions are applied is set by the order of the steps in the parset.


.. _faraday_pars:

Parameters
==========

The following parameters are available for this operation:

.. glossary::

    h5parmFilename
        This parameter is a string (no default) that sets the filename of input/output h5parm file. This file must contain a table  (named ``'tec000'``) of absolute TEC values. Such a table can be generated by the :ref:`tec`.

    hIon
        This parameter is a float (default is ``200e3``) that sets the height of thin layer ionoshpere in m.

.. [#f1] Mevius, M. 2018, RMextract, Astrophysics Source Code Library, record [ascl:1806.024]
.. [#f2] de Gasperin, F. et al. 2018, A\&A, 615, 179
